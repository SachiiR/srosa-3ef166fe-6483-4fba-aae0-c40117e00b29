<div class="bg-white dark:bg-gray-800 rounded-xl px-3 py-2 border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200 flex flex-col gap-1">
  
  <!-- Single row: title + badges + actions -->
  <div class="flex items-center justify-between gap-2">
    <h3 class="text-sm font-semibold text-gray-800 dark:text-gray-100 line-clamp-1 flex-1">{{ task.title }}</h3>
    
    <div class="flex items-center gap-1 shrink-0">
      <span class="px-2 py-0.5 rounded-full text-xs bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-medium">
        {{ task.category || 'General' }}
      </span>
      <span class="px-2 py-0.5 rounded-full text-xs font-medium"
        [ngClass]="{
          'bg-amber-50 dark:bg-amber-900 text-amber-700 dark:text-amber-300': task.status === 'Pending',
          'bg-green-50 dark:bg-green-900 text-green-700 dark:text-green-300': task.status === 'Completed'
        }">
        {{ task.status }}
      </span>
      <button
      data-testid="edit-btn"
        (click)="onEdit()"
        class="px-2 py-0.5 text-xs font-medium bg-indigo-50 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300 rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-800 transition">
        âœï¸
      </button>
      <button
      data-testid="delete-btn"
    *ngIf="!isViewer"
        (click)="onDelete()"
        class="px-2 py-0.5 text-xs font-medium bg-red-50 dark:bg-red-900 text-red-600 dark:text-red-300 rounded-lg hover:bg-red-100 dark:hover:bg-red-800 transition">
        ğŸ—‘ï¸
      </button>
    </div>
  </div>

  <!-- Description -->
  <p class="text-xs text-gray-400 dark:text-gray-500 line-clamp-1">
    {{ task.description || 'No description provided.' }}
  </p>

  
</div>